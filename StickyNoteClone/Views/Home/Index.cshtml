@*@model IEnumerable<Note>
    @{
    IEnumerable<Note> notes = ViewData["Notes"] as IEnumerable<Note>;
    IEnumerable<Note> displayedNotes = ViewData["DisplayedNotes"] as IEnumerable<Note>;
    int count = 0;
    string pholder = "card-body collapse show";
    }*@


@model IEnumerable<NoteViewModel>
@{
    IEnumerable<NoteViewModel> notes = ViewData["Notes"] as IEnumerable<NoteViewModel>;
    IEnumerable<NoteViewModel> displayedNotes = ViewData["DisplayedNotes"] as IEnumerable<NoteViewModel>;
    int count = 0;
    string pholder = "card-body collapse show";
}
<div class="row m-1">
    <div class="col-4 card">

        <div id="accordion" class="">

            @foreach (var note in notes ?? Enumerable.Empty<NoteViewModel>())
            {

                var collapse = "collapse";
                count++;
                collapse += count;
                if (count > 1)
                {
                    pholder = "card-body collapse";
                }
                <div class="card mt-3" style="box-shadow:3px 3px 3px @note.Color; border-top:solid @note.Color 10px">

                    <div class="card-title btn-group">
                        <a class="btn" data-bs-toggle="collapse" href="#@collapse">
                            @note.Title
                        </a>
                        <div class="">
                            <a class="btn" data-toggle="tooltip" data-placement="top" title="Tooltip on top">
                                <i class="fa-solid fa-arrow-right"></i>
                            </a>
                        </div>

                    </div>

                    <div id="@collapse" class="@pholder" style="border-color:@note.Color" data-bs-parent="#accordion">
                        <p>
                            @note.Content
                        </p>
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="col-8 card">
        <div class="mt-3 mb-3">

            <form asp-controller="Home" asp-action="AddNewNote" method="post">
                <div id="newRow">
                    <input type="hidden" id="total" value="0" />
                     @*<input type="submit" class="btn btn-primary"  value="Post" /> *@
                    @* <div class="card">
                        <div class="form-floating">
                        <input type="text" class="form-control border border-0" id="title" placeholder="Enter title" name="title">
                        <label for="title">Title</label>
                        </div>
                        <div class="form-floating ">
                        <textarea class="form-control border border-0" id="comment" name="text" placeholder="Comment goes here"></textarea>
                        <label for="comment">Comments</label>
                        </div>
                        <div class="list-group list-group-horizontal">
                        <input type="radio" class="form-check-input list-group-item" id="radio1" name="optradio" value="option1" checked>

                        </div>
                        </div>*@
                </div>
            </form>
            @foreach (var note in displayedNotes ?? Enumerable.Empty<NoteViewModel>())
            {

                <partial name="NoteSummary" model="note" />
            }
        </div>
    </div>
</div>



